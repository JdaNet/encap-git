{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ASSI\\\\Desktop\\\\encap\\\\client\\\\src\\\\pages\\\\Login.js\";\nimport React, { Component, useEffect } from 'react';\nimport '../css/Login.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport axios from 'axios';\nimport md5 from 'md5';\nimport Cookies from 'universal-cookie';\nconst baseUrl = \"http://localhost:3001/usuario\";\nconst cookies = new Cookies();\n\nconst LandingPage = () => {\n  useEffect(() => {\n    document.title = \"Login\";\n  });\n\n  class Login extends Component {\n    constructor(...args) {\n      super(...args);\n      this.state = {\n        form: {\n          username: '',\n          password: ''\n        }\n      };\n\n      this.handleChange = async e => {\n        await this.setState({\n          form: { ...this.state.form,\n            [e.target.name]: e.target.value\n          }\n        });\n      };\n\n      this.iniciarSesion = async () => {\n        await axios.get(baseUrl, {\n          params: {\n            username: this.state.form.username,\n            password: md5(this.state.form.password)\n          }\n        }).then(response => {\n          return response.data;\n        }).then(response => {\n          if (response.length > 0) {\n            var respuesta = response[0];\n            cookies.set('id', respuesta.id, {\n              path: \"/\"\n            });\n            cookies.set('apellido_paterno', respuesta.apellido_paterno, {\n              path: \"/\"\n            });\n            cookies.set('apellido_materno', respuesta.apellido_materno, {\n              path: \"/\"\n            });\n            cookies.set('nombre', respuesta.nombre, {\n              path: \"/\"\n            });\n            cookies.set('username', respuesta.username, {\n              path: \"/\"\n            });\n            alert(`Bienvenido ${respuesta.nombre} ${respuesta.apellido_paterno}`);\n            window.location.href = \"./menu\";\n          } else {\n            alert('El usuario o la contraseÃ±a no son correctos');\n          }\n        }).catch(error => {\n          console.log(error);\n        });\n      };\n    }\n\n    componentDidMount() {\n      if (cookies.get('username')) {\n        window.location.href = \"./menu\";\n      }\n    }\n\n    render() {\n      return /*#__PURE__*/React.createElement(\"section\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"containerPrincipal\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"containerSecundario\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        className: \"encap\",\n        alt: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 29\n        }\n      }), /*#__PURE__*/React.createElement(\"h1\", {\n        className: \"title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 29\n        }\n      }, \"ENCAP | Intranet\"), /*#__PURE__*/React.createElement(\"label\", {\n        className: \"label\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 29\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 29\n        }\n      }), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        placeholder: \"Nro de documento\",\n        name: \"username\",\n        onChange: this.handleChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 29\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 29\n        }\n      }), /*#__PURE__*/React.createElement(\"label\", {\n        className: \"label\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 29\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 29\n        }\n      }), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"password\",\n        placeholder: \"Ingrese su contrase\\xF1a\",\n        className: \"form-control\",\n        name: \"password\",\n        onChange: this.handleChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 29\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 29\n        }\n      }), /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn-primary\",\n        onClick: () => this.iniciarSesion(),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 97\n        }\n      }, \"Continuar\")), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 29\n        }\n      }), /*#__PURE__*/React.createElement(\"a\", {\n        className: \"a\",\n        href: \"https://www.jotform.com/es/form-templates/cc-21-movil\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 29\n        }\n      }, \"Recupere o crea tu clave internet\")))));\n    }\n\n  }\n};\n\nexport default Login;","map":{"version":3,"sources":["C:/Users/ASSI/Desktop/encap/client/src/pages/Login.js"],"names":["React","Component","useEffect","axios","md5","Cookies","baseUrl","cookies","LandingPage","document","title","Login","state","form","username","password","handleChange","e","setState","target","name","value","iniciarSesion","get","params","then","response","data","length","respuesta","set","id","path","apellido_paterno","apellido_materno","nombre","alert","window","location","href","catch","error","console","log","componentDidMount","render"],"mappings":"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","sourcesContent":["import React, { Component, useEffect } from 'react';\nimport '../css/Login.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport axios from 'axios';\nimport md5 from 'md5';\nimport Cookies from 'universal-cookie';\n\nconst baseUrl=\"http://localhost:3001/usuario\";\nconst cookies = new Cookies();\n\nconst LandingPage =()=> {\n    useEffect(() => {\n        document.title = \"Login\";\n    },)\n\n    class Login extends Component {\n        state={\n            form:{\n                username: '',\n                password: ''\n            }\n        }\n    \n        handleChange=async e=>{\n            await this.setState({\n                form:{\n                    ...this.state.form,\n                    [e.target.name]: e.target.value\n                }\n            });\n        }\n    \n        iniciarSesion=async()=>{\n            await axios.get(baseUrl, {params: {username: this.state.form.username, password: md5(this.state.form.password)}})\n            .then(response=>{\n                return response.data;\n            })\n            .then(response=>{\n                if(response.length>0){\n                    var respuesta=response[0];\n                    cookies.set('id', respuesta.id, {path: \"/\"});\n                    cookies.set('apellido_paterno', respuesta.apellido_paterno, {path: \"/\"});\n                    cookies.set('apellido_materno', respuesta.apellido_materno, {path: \"/\"});\n                    cookies.set('nombre', respuesta.nombre, {path: \"/\"});\n                    cookies.set('username', respuesta.username, {path: \"/\"});\n                    alert(`Bienvenido ${respuesta.nombre} ${respuesta.apellido_paterno}`);\n                    window.location.href=\"./menu\";\n                }else{\n                    alert('El usuario o la contraseÃ±a no son correctos');\n                }\n            })\n            .catch(error=>{\n                console.log(error);\n            })\n    \n        }\n    \n        componentDidMount() {\n            if(cookies.get('username')){\n                window.location.href=\"./menu\";\n            }\n        }\n    \n    \n        \n    \n        render() {\n            return (\n                <section>\n                    <div className=\"containerPrincipal\">\n                        <div className=\"containerSecundario\">\n                        <div className=\"form-group\">\n                            <img className='encap' alt=''></img>\n                            <h1 className='title'>ENCAP | Intranet</h1>\n                            <label className='label'></label>\n                            <br />\n                            <input \n                            type=\"text\"\n                            className=\"form-control\"\n                            placeholder='Nro de documento'\n                            name=\"username\"\n                            onChange={this.handleChange}\n                            />\n                            <br />\n                            <label className='label'></label>\n                            <br />\n                            <input\n                            type=\"password\"\n                            placeholder='Ingrese su contraseÃ±a'\n                            className=\"form-control\"\n                            name=\"password\"\n                            onChange={this.handleChange}\n                            />\n                            <br />\n                            <button className=\"btn-primary\" onClick={()=> this.iniciarSesion()}><span>Continuar</span></button>\n                            <br/>\n                            <a className='a' href='https://www.jotform.com/es/form-templates/cc-21-movil'>Recupere o crea tu clave internet</a>\n                    \n                        </div>\n                        </div>\n                    </div>\n                </section>   \n            );\n        }\n    }\n}\n\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}